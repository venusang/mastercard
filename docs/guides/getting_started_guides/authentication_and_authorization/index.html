<!DOCTYPE html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Authentication &amp; Authorization | Getting Started Guides | SDK Documentation</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
</head>
<body>
  <!--[if lt IE 8]>
  <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
  <![endif]-->
  
  <div class="container">
    <div class="page-header">
      <h1>
        <small>SDK Documentation - Getting Started Guides</small>
        <br>
        Authentication &amp; Authorization
      </h1>
    </div>
    
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <ol class="breadcrumb">
          <li><a href="../../../index.html">Home</a></li>
          <li class="active">Getting Started Guides</li>
          <li class="active">Authentication &amp; Authorization</li>
        </ol>
      </div>
    </div>
  </div>
  
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <p>The SDK ships with a complete auth system.  It handles all details of auth including login/logout, session management, and role-based authorization.</p>

<h2>Authentication</h2>

<p>Authentication using the AnyPresenece HTML5 SDK is painless.  Login and logout calls are made in one line each.</p>

<pre><code>AP.auth.Authentication.login({username: &#39;test&#39;, password: &#39;password&#39;})
AP.auth.Authentication.logout()</code></pre>

<p>There are three auth-related events developers may listen on.</p>

<pre><code>AP.auth.Authentication.on(&#39;auth:authenticated&#39;, loginHandlerFn)
AP.auth.Authentication.on(&#39;auth:deauthenticated&#39;, logoutHandlerFn)
AP.auth.Authentication.on(&#39;auth:error, loginFailedHandlerFn)</code></pre>

<h2>Accessing User Data</h2>

<p>Getting the username or role of the currently logged-in user is simple:</p>

<pre><code>username = AP.auth.Authentication.getUsername()
role = AP.auth.Authentication.getUserRole()</code></pre>

<p>Information about the currently logged-in user is available from the auth method <code>AP.auth.Authentication.getAuthSessionData</code>.  In many cases, however, accessing the user object directly is unnecessary.</p>

<pre><code># returns an object of key/value data associated with the currently
# authenticated user
user = AP.auth.Authentication.getAuthSessionData()</code></pre>

<h2>Authorization</h2>

<p>Role-based authorization is simple.  After a successful login attempt, authorization checks may be performed on the currently authenticated user.  For example:</p>

<pre><code>AP.auth.Authorization.isAuthorized([{roles: &#39;manager&#39;}, {roles: &#39;admin&#39;}])
# returns true if logged-in user has _either_ `manager` _or_ `admin` roles

AP.auth.Authorization.isAuthorized([{roles: &#39;manager,admin&#39;}])
# returns true if logged-in user has both `manager` _and_ `admin` roles</code></pre>

<p>That&#39;s it.  No need to look-up the user object and manually process user roles.</p>
      </div>
    </div>
    
    <hr>
  </div>
  
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
</body>
</html>
